<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentic Chrome Dino</title>
    <style>
        :root {
            --bg: #ffffff;
            --dino-gray: #535353;
            --accent: #f7f7f7;
        }

        /* Modern Dark Mode Option (Comment out for Classic White) */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #202124;
                --dino-gray: #bdc1c6;
                --accent: #303134;
            }
        }

        body {
            background-color: var(--bg);
            color: var(--dino-gray);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 800px;
        }

        canvas {
            display: block;
            width: 100%;
            height: auto;
        }

        .ui-layer {
            position: absolute;
            top: 10px;
            right: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            font-size: 18px;
            pointer-events: none;
        }

        .game-over-msg {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            display: none;
            letter-spacing: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="ui-layer">
            HI <span id="highScore">00000</span> <span id="score">00000</span>
        </div>
        <div class="game-over-msg" id="gameOver">G A M E  O V E R</div>
        <canvas id="dinoCanvas"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('dinoCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const highScoreEl = document.getElementById('highScore');
        const gameOverMsg = document.getElementById('gameOver');

        canvas.width = 800;
        canvas.height = 200;

        let gameSpeed = 7;
        let score = 0;
        let highScore = 0;
        let isJumping = false;
        let gameActive = true;
        let frame = 0;

        const dino = {
            x: 50,
            y: 150,
            w: 44,
            h: 47,
            vY: 0,
            jumpLimit: -13,
            gravity: 0.8
        };

        let obstacles = [];

        function drawDino(x, y, isRunning) {
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--dino-gray');
            
            // Tail & Body
            ctx.fillRect(x, y + 15, 10, 15);
            ctx.fillRect(x + 10, y + 10, 20, 25);
            // Neck & Head
            ctx.fillRect(x + 25, y, 15, 15);
            ctx.fillRect(x + 40, y, 5, 10);
            // Arms
            ctx.fillRect(x + 30, y + 18, 5, 2);
            
            // Legs (Animation)
            if (isJumping) {
                ctx.fillRect(x + 12, y + 35, 4, 10);
                ctx.fillRect(x + 24, y + 35, 4, 10);
            } else {
                const step = (Math.floor(frame / 6) % 2 === 0);
                ctx.fillRect(x + 12, y + 35, 4, step ? 10 : 5);
                ctx.fillRect(x + 24, y + 35, 4, step ? 5 : 10);
            }
        }

        function drawCactus(x, y, h) {
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--dino-gray');
            ctx.fillRect(x + 5, y, 10, h); // Main stem
            ctx.fillRect(x, y + 10, 5, 15); // Left arm
            ctx.fillRect(x + 15, y + 5, 5, 15); // Right arm
        }

        function update() {
            if (!gameActive) return;

            // Jump Logic
            dino.vY += dino.gravity;
            dino.y += dino.vY;

            if (dino.y > 150) {
                dino.y = 150;
                dino.vY = 0;
                isJumping = false;
            }

            // Obstacle Movement
            if (frame % 100 === 0) {
                obstacles.push({ x: 800, y: 160, w: 20, h: 30 + Math.random() * 10 });
            }

            obstacles.forEach((o, i) => {
                o.x -= gameSpeed;
                
                // Collision
                if (dino.x < o.x + o.w && dino.x + dino.w > o.x && 
                    dino.y < o.y + o.h && dino.y + dino.h > o.y) {
                    endGame();
                }

                if (o.x < -20) obstacles.splice(i, 1);
            });

            score += 0.2;
            gameSpeed += 0.001;
            scoreEl.innerText = Math.floor(score).toString().padStart(5, '0');
            frame++;
        }

        function render() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Horizon Line
            ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--dino-gray');
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, 195);
            ctx.lineTo(800, 195);
            ctx.stroke();

            drawDino(dino.x, dino.y, !isJumping);
            obstacles.forEach(o => drawCactus(o.x, o.y, o.h));

            if (gameActive) {
                update();
                requestAnimationFrame(render);
            }
        }

        function endGame() {
            gameActive = false;
            gameOverMsg.style.display = 'block';
            if (score > highScore) {
                highScore = Math.floor(score);
                highScoreEl.innerText = highScore.toString().padStart(5, '0');
            }
            setTimeout(reset, 2000);
        }

        function reset() {
            score = 0;
            gameSpeed = 7;
            obstacles = [];
            dino.y = 150;
            gameActive = true;
            gameOverMsg.style.display = 'none';
            render();
        }

        window.addEventListener('keydown', e => {
            if ((e.code === 'Space' || e.code === 'ArrowUp') && !isJumping) {
                dino.vY = dino.jumpLimit;
                isJumping = true;
            }
        });

        render();
    </script>
</body>
</html>
